<view class="container data-v-bf16e7f4"><view class="message-list data-v-bf16e7f4"><block wx:for="{{messageList}}" wx:for-item="message" wx:for-index="index" wx:key="index"><block wx:if="{{message.type=='text'}}"><view class="{{['message-box','data-v-bf16e7f4',message.sender==userInfo.id?'self-message-item':'']}}"><image class="head-portrait data-v-bf16e7f4" src="{{message.sender==userInfo.id?userInfo.avatar:message.senderInfo.avatar}}"></image><view class="content data-v-bf16e7f4"><block wx:if="{{message.sender!=userInfo.id}}"><view class="message-sender-name data-v-bf16e7f4">{{message.senderInfo.nickname||'0.0'}}</view></block><view class="{{['data-v-bf16e7f4',message.sender==userInfo.id?'self-message-text':'other-message-text']}}">{{''+(message.content||"empty message...")+''}}<view class="message-time data-v-bf16e7f4">{{message.time}}</view></view></view></view></block><block wx:if="{{message.type=='entryGroup'}}"><view class="middle-message data-v-bf16e7f4">{{message.content}}</view></block></block></view><view class="bottom-operation-tabbar data-v-bf16e7f4"><view class="tabbar-list data-v-bf16e7f4"><textarea class="uni-input item message-input data-v-bf16e7f4" type="text" maxlength="-1" show-confirm-bar="{{false}}" hold-keyboard="{{true}}" auto-height="{{true}}" adjust-position="{{true}}" cursor-spacing="20" placeholder="Message..." data-event-opts="{{[['input',[['__set_model',['$0','textMessage','$event',[]],['form']]]]]}}" value="{{form.textMessage}}" bindinput="__e"></textarea><button class="mini-btn item message-send data-v-bf16e7f4" type="primary" size="mini" data-event-opts="{{[['tap',[['clickSendMessage']]]]}}" bindtap="__e">发送</button></view></view></view>